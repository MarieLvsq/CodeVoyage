@model List<CodeVoyage.Models.OffreVoyage>
@{
    ViewBag.Title = "Formulaire";
    Layout = "_LayoutDuSite";
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Rechercher une offre sur mesure</title>
</head>
<body>
    @using (Html.BeginForm())
    {
        <fieldset>
            <legend>Recherche avancée: </legend>

            @Html.Label("Itineraire")
            @Html.DropDownList("ItineraireId", new SelectList(ViewBag.ItineraireList, "Id", "ItineraireDescription"))
            @*@Html.TextBoxFor(m => Model.Itineraire)*@

            <br />
            @Html.Label("Evénement")
            @Html.DropDownList("EventId",new SelectList(ViewBag.EvenementList, "Id", "EvenementDescription"))

            <br />
            @Html.Label("service")
            @Html.DropDownList("ServiceId", new SelectList(ViewBag.ServiceList, "Id", "ServiceDescription"))

            <br />
            @Html.Label("Service")
            @Html.DropDownList("ServiceExId", new SelectList(ViewBag.ServiceList, "Id", "ServiceDescription"))
            
          
            <br />
            @Html.Label("Prix Max")
            @Html.DropDownList("prixMax", new SelectList(ViewBag.prixList, "Value", "Value"), "Selectionner un prix")
            <input type="submit" value="Rechercher" />
        </fieldset>    }


    @if (Model.Count == 0)
    {
   
        
            <p> Aucune offre ne correspond à votre recherche </p>
        
    }
    else
    {
        @foreach (var item in Model)
        {


            <fieldset>
                <legend>Résultat de votre recherche: </legend>
                <div>@item.Itineraire.ItineraireDescription, @item.Event.EvenementDescription, @item.prixTotal € </div>
                @Html.ActionLink("Je réserve", "ReserverOffre", "Reservation")


            </fieldset>



        }
    }

   

    
</body>
</html>
